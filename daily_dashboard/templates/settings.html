{% extends 'base.html' %}

{% block head %}
    {# navbar styling #}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/navbar.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/flash.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/settings.css') }}">
{% endblock %}

{% block navigation %}
{% include 'navbar.html' %}
{% endblock %}

{% block title %}Settings{% endblock %}

{% block content %}
    <div class="flash--container bottom">
        {% for category, message in get_flashed_messages(with_categories=true) %}
        <p class="flash {{ category }}">{{ message }}</p>
        {% endfor %}
    </div>

    <div id="sidebar">
        <ul class="page--nav">
            <li class="nav--item"><a href="#general">General</a></li>
            <li class="nav--item"><a href="#calendar">Calendar</a></li>
            <li class="nav--item"><a href="#logout">Logout</a></li>
        </ul>
    </div>

    <div id="settings--container">
        <form id="settings--form" method="post">
            {{ form.csrf_token }}
            <fieldset id="general">
                <legend>General</legend>

                <fieldset class="no-border">
                    {{ form.date_format.label }}
                    {{ form.date_format(class='form--list') }}
                </fieldset>

                <fieldset class="no-border">
                    {{ form.time_format.label }}
                    {{ form.time_format(class='form--list') }}
                </fieldset>
                <input type="submit" value="Save">
            </fieldset>

            <fieldset id="calendar">
                <legend>Calendar</legend>

                <fieldset class="no-border">
                    {{ form.calendars.label }}
                    {{ form.calendars(class='form--list') }}
                </fieldset>
                <input type="submit" value="Save">
            </fieldset>
        </form>

        <a id="logout" href="{{ url_for('oauth.revoke') }}">
            <button class="large error">Logout</button>
        </a>
    </div>
{% endblock %}
